<form [formGroup]="personForm" (ngSubmit)="editingPersonId ? updatePerson() : addPerson()">
  <input formControlName="name" placeholder="Name" />
  <button type="submit">{{ editingPersonId ? 'Update' : 'Add' }}</button>
  <button type="button" (click)="cancelEdit()" *ngIf="editingPersonId">Cancel</button>
</form>

<ul>
  <li *ngFor="let person of persons$ | async">
    {{ person.name }}
    <button (click)="editPerson(person)">Edit</button>
    <button (click)="deletePerson(person.id)">Delete</button>
  </li>
</ul>
